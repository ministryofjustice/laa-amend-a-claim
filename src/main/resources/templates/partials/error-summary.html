<th:block th:if="${#fields.hasAnyErrors()}" th:fragment="error-summary">
    <div class="govuk-error-summary" data-module="govuk-error-summary">
        <div role="alert">
            <h2 class="govuk-error-summary__title" th:text="#{form.error.summary}"></h2>
            <div class="govuk-error-summary__body">
                <ul class="govuk-list govuk-error-summary__list">
                    <li th:each="error : ${#fields.detailedErrors()}"
                        th:with="id=${@stringUtils.toId(error.fieldName)}">
                        <a th:href="'#' + ${id}" th:text="${error.message}"></a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</th:block>